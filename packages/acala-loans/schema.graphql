type Account @entity {
  id: ID!
  address: String
  positions: [LoanPosition] @derivedFrom(field: "owner")
  hourLoanPositions: [HourLoanPosition] @derivedFrom(field: "owner")
  dailyLoanPositions: [DailyLoanPosition] @derivedFrom(field: "owner")
 }

type Collateral @entity {
  id: ID!
  token: String
  positions: [LoanPosition] @derivedFrom(field: "collateral")
 }

type LoanPosition @entity {
  id: ID!
  owner: Account
  collateral: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
}

type HourLoanPosition @entity {
  id: ID!
  owner: Account
  collateral: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
  debitExchangeRate: BigInt
  timestamp: String
}

type DailyLoanPosition @entity {
  id: ID!
  owner: Account
  collateral: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
  debitExchangeRate: BigInt
  timestamp: String
}

type GlobalPosition @entity {
  id: ID!
  token: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
}

type HourGlobalPosition @entity {
  id: ID!
  token: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
}

type DailyGlobalPosition @entity {
  id: ID!
  token: Collateral
  debitAmount: BigInt
  collateralAmount: BigInt
}

type DailyLoanReport @entity {
  id: ID!
  actionCount: BigInt
  debitChange: BigInt
  collateralChange: BigInt
  timestamp: String
}

type HourLoanReport @entity {
  id: ID!
  actionCount: BigInt
  debitChange: BigInt
  collateralChange: BigInt
  timestamp: String
}